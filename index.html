<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>RideWallah – Premium Bike Rentals</title>

<style>
body{font-family:Arial;background:#f4f6fb;margin:0}
header{background:#0d6efd;color:white;padding:15px}
.container{width:90%;max-width:1100px;margin:auto}
.hero{display:flex;gap:20px;margin:30px 0}
.card{background:white;padding:20px;border-radius:10px;box-shadow:0 10px 20px rgba(0,0,0,.1)}
.bikes{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px}
.bike img{width:100%;border-radius:10px}
.bike button{margin-top:10px;width:100%;padding:10px;background:#0d6efd;color:white;border:none;border-radius:5px}
input,textarea{width:100%;padding:10px;margin-top:5px}
button{cursor:pointer}
#msg{margin-top:10px;font-weight:bold}
</style>
</head>

<body>

<header>
<div class="container">
<h2>RideWallah</h2>
</div>
</header>

<div class="container hero">

<div class="card bikes">
<div class="bike">
<img src="https://images.unsplash.com/photo-1616077167599-4b2b5e5bb7d1">
<h4>Royal Enfield Classic 350</h4>
<button onclick="selectBike('Royal Enfield Classic 350')">Book Now</button>
</div>

<div class="bike">
<img src="https://images.unsplash.com/photo-1605559424843-9e4c6c7d0c02">
<h4>TVS Jupiter</h4>
<button onclick="selectBike('TVS Jupiter')">Book Now</button>
</div>

<div class="bike">
<img src="https://images.unsplash.com/photo-1626169770281-8c8c1b5e1f33">
<h4>Bajaj Pulsar</h4>
<button onclick="selectBike('Bajaj Pulsar')">Book Now</button>
</div>
</div>

<div class="card">
<h3>Book a Bike</h3>

<form id="bookingForm">
<input id="bike" readonly placeholder="Selected Bike" required>

<label>Pickup Date & Time</label>
<input type="datetime-local" id="pickup" required>

<label>Drop Date & Time</label>
<input type="datetime-local" id="drop_time" required>

<label>Your Name</label>
<input id="name" required>

<label>Phone</label>
<input id="phone" required>

<label>Email</label>
<input id="email">

<label>Pickup Location</label>
<input id="pickup_location" required>

<label>Message</label>
<textarea id="message"></textarea>

<button type="submit" style="margin-top:15px;background:#198754;color:white;padding:12px;border:none;width:100%">Send Booking</button>
</form>

<p id="msg"></p>
</div>

</div>

<script>
function selectBike(b){
document.getElementById("bike").value=b;
}

document.getElementById("bookingForm").addEventListener("submit",e=>{
e.preventDefault();

fetch("/api/booking",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
bike:bike.value,
pickup:pickup.value,
drop_time:drop_time.value,
name:name.value,
phone:phone.value,
email:email.value,
pickup_location:pickup_location.value,
message:message.value
})
})
.then(r=>r.json())
.then(()=>{
msg.innerText="✅ Booking successful";
bookingForm.reset();
})
.catch(()=>{
msg.innerText="❌ Booking failed";
});
});
</script>

</body>
</html>
